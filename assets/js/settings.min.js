const{__:__,_x:_x,_n:_n,_nx:_nx}=wp.i18n;function getCookie(e){var o=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return o?o[2]:null}jQuery(document).ready((function(e){let o="";var t,n,c;function a(){var o=e("input[name='cx_settings[popup][style]']:checked").val(),t="",n=0,c=0;"style-1"==o?(t="coupon",n=170,c=150):"style-2"==o?(t="main",n=190,c=180):"style-3"==o?(t="coupon",n=164,c=150):"style-4"==o?(t="announcement",n=131,c=150):"style-5"==o&&(t="main",n=190,c=180);var a=e("input[name='cx_settings["+t+"][img_position]']:checked").val(),i=e(".tab-box-content:not(.hide)").height()+30,s=parseInt(i*n/c);"left"==a||"right"==a?(e(".img_width").text("100px"),e(".img_height").text(10*Math.ceil(s/10)+"px")):"top"==a?(e(".img_width").text("410px"),e(".img_height").text("140px")):"cover"==a&&(e(".img_width").text("410px"),e(".img_height").text(10*Math.ceil(s/10)+"px"))}function s(t){if(error=0,"#popup_design"==t){if(0==e(".active-type").length)error=1,validation_popup.dialog("open"),o=validation_popup,tabs.tabs("option","active",1);else if(e(".active-type").hasClass("custom-coupon-code")||e(".active-type").hasClass("select-wp-generate-unique-coupon")){if(error=p(),1==error)return void tabs.tabs("option","active",1);e(".discount-code-wrap").hasClass("hide")?e("input.coupon-type").val(2):e("input.coupon-type").val(3),text="Unique Code",coupont_type=e("input.coupon-type").val(),3==coupont_type&&(text=e(".discount-code").val()),e(".couponapp-code-option .couponapp-inner-text").val(text),e(".couponapp-code-option .coupon-code-text").text(text),e(".couponapp-inner-text").val(text),e(".coupon-popup").removeClass("hide"),e(".announcement-popup").addClass("hide"),e(".cp").removeClass("hide"),e(".an").addClass("hide"),""==e(".coupon-widget-style").find(".input-field-radio:checked").val()&&e("#input-field-radio-style-1").trigger("click")}else if(e(".active-type").hasClass("select-wp-exisitng-coupon")){if(console.log(e(".ex-coupon:checked").length),0==e(".ex-coupon:checked").length)return error=1,tabs.tabs("option","active",1),e(".ex-error").removeClass("hide"),void e("body, html").animate({scrollTop:e(".ex-error").offset().top-130},500);{let o=e(".ex-coupon:checked").attr("data-code");e(".couponapp-code-option .coupon-code-text").text(o),e(".couponapp-inner-text").val(o),e("input.coupon-type").val(1),e(".ex-error").addClass("hide"),e(".coupon-popup").removeClass("hide"),e(".announcement-popup").addClass("hide"),error=0,e(".cp").removeClass("hide"),e(".an").addClass("hide"),""==e(".coupon-widget-style").find(".input-field-radio:checked").val()&&e("#input-field-radio-style-1").trigger("click")}}0==error&&(console.log(t),tabs.tabs("option","active",2))}else if("#triggers_targetting"==t){if(0==e(".active-type").length)error=1,validation_popup.dialog("open"),o=validation_popup,tabs.tabs("option","active",1);else if(""==e("#popup_type").val())return error=1,tabs.tabs("option","active",2),layout_validation.dialog("open"),void(o=layout_validation);0==error&&tabs.tabs("option","active",3)}}function p(){return error=0,e(".discount-code-wrap").hasClass("hide")||""!=e("#discount-code").val()?e(".discount_code_error").addClass("hide"):(error=1,e(".discount_code_error").removeClass("hide")),""==e(".discount-value").val()?(error=1,e(".discount_value_error").removeClass("hide")):e(".discount_value_error").addClass("hide"),"collections"==e(".applies_to:checked").val()&&e(".cart_collections").next(".select2").find("ul.select2-selection__rendered").find("li").length<1?(error=1,e(".applies_to_collections_error").removeClass("hide")):e(".applies_to_collections_error").addClass("hide"),"products"==e(".applies_to:checked").val()&&e(".cart_products").next(".select2").find("ul.select2-selection__rendered").find("li").length<1?(error=1,e(".applies_to_products_error").removeClass("hide")):e(".applies_to_products_error").addClass("hide"),"subtotal"==e(".min-req  option:selected").val()&&""==e(".discount-min-req").val()?(error=1,e(".min_val_error").removeClass("hide")):e(".min_val_error").addClass("hide"),error}e(document).on("click",".tab-preview.mobile-preview",(function(){e(".btn-previewbtn").show(),e(".tab-preview").removeClass("mobile-preview"),e(".mobile-preview-bg").hide(),e(".tab-preview").hide(),e(".coupon-preview-close").addClass("hide")})),e(document).on("click",".tab-preview.mobile-preview .preview-box",(function(e){e.stopPropagation()})),e(document).on("click",".popup-preview.mobile-preview",(function(){e(".btn-popup-previewbtn").show(),e(".popup-preview").removeClass("mobile-preview"),e(".mobile-preview-bg").hide(),e(".popup-preview").hide()})),e(document).on("click",".popup-preview.mobile-preview .preview-box",(function(e){e.stopPropagation()})),e(document).on("mouseover",".img-tooltip:not(.img-loaded)",(function(){e(this).find(".coupon-tooltip-image").html("<img src='"+e(this).find(".coupon-tooltip-image").data("img")+"' alt='image' >")})),e(".webcomepopup").length>0?e(".webcomepopup").show():e(".empty-widget").length>0&&e(".empty-widget").show(),e(".welcompopupbtn").click((function(){href=e(this).attr("href"),url=cx_data.url,e.ajax({url:url,data:{action:"update_popup_status",nonce:cx_data.cx_nonce},type:"post",dataType:"json",success:function(e){console.log(e)}}),location.href=href})),keep_editing=0,e(".active_end_date").length>0&&(e(".active_end_date").datepicker({dateFormat:"yy-mm-dd",minDate:0}),e(".cart_collections").select2(),e(".cart_products").select2(),e(".fonts-input").select2(),e(".select2-selection__rendered").removeAttr("title"),e(".popup-fonts-input").select2(),e(".tab-shape").select2({minimumResultsForSearch:1/0}),e(".animation-effect").select2({minimumResultsForSearch:1/0}),e(".country-dropdown, .mobile-dropdown, .desktop-dropdown, .mobile-browser-dropdown, .desktop-browser-dropdown").select2({minimumResultsForSearch:1/0}),e("#timer_date").datepicker({dateFormat:"yy-mm-dd",minDate:0}),e(".day-rule-enable").select2({minimumResultsForSearch:-1}),e(".day-timezone").select2({minimumResultsForSearch:-1}),e(".display_start_date").datepicker({dateFormat:"yy-mm-dd",minDate:0,onSelect:function(o){sd=new Date(o),e(".display_end_date").datepicker("option","minDate",sd)}}),e(".display_end_date").datepicker({dateFormat:"yy-mm-dd",minDate:0}),e("#timer_time").timepicker(),e(".display_start_time").timepicker(),e(".display_end_time").timepicker(),e(".day-start-time").timepicker(),e(".day-end-time").timepicker()),e(".dashicons").tooltip({content:function(){return e(this).prop("title")},position:{my:"left bottom-0",at:"left top"},close:function(o,t){t.tooltip.hover((function(){e(this).stop(!0).fadeTo(400,1)}),(function(){e(this).fadeOut("400",(function(){e(this).remove()}))}))}}),e(".accordion-btn").click((function(o){o.preventDefault(),e(".advanced-panel").hasClass("down")?e(".advanced-panel").slideUp("slow").removeClass("down"):e(".advanced-panel").slideDown("slow").addClass("down")})),e(".close-chaty-maxvisitor-popup").click((function(){e(".first-widget-popup").addClass("hide"),e(".popup-overlayout-cls").css("display","none")})),e("#consent_text").length&&(tinymce.get("consent_text").on("keyup",(function(o){e(".consent_text_preview").html(tinymce.get("consent_text").getContent()),e("#consent_text").val(tinymce.get("consent_text").getContent())})),tinymce.get("consent_text").on("change",(function(o){e(".consent_text_preview").html(tinymce.get("consent_text").getContent()),e("#consent_text").val(tinymce.get("consent_text").getContent())}))),e("#main_headline").length&&(tinymce.get("main_headline").on("keyup",(function(o){e(".couponapp-email-option h4").html(tinymce.get("main_headline").getContent()),e("#main_headline").val(tinymce.get("main_headline").getContent())})),tinymce.get("main_headline").on("change",(function(o){e(".couponapp-email-option h4").html(tinymce.get("main_headline").getContent()),e("#main_headline").val(tinymce.get("main_headline").getContent())}))),e("#coupon_headline").length&&(tinymce.get("coupon_headline").on("keyup",(function(o){e(".couponapp-link-option h4").html(tinymce.get("coupon_headline").getContent()),e(".couponapp-code-option h4").html(tinymce.get("coupon_headline").getContent()),e(".couponapp-scratch-code-option h4").html(tinymce.get("coupon_headline").getContent()),e("#coupon_headline").val(tinymce.get("coupon_headline").getContent())})),tinymce.get("coupon_headline").on("change",(function(o){e(".couponapp-link-option h4").html(tinymce.get("coupon_headline").getContent()),e(".couponapp-code-option h4").html(tinymce.get("coupon_headline").getContent()),e(".couponapp-scratch-code-option h4").html(tinymce.get("coupon_headline").getContent()),e("#coupon_headline").val(tinymce.get("coupon_headline").getContent())}))),e("#announcement_headline").length&&(tinymce.get("announcement_headline").on("keyup",(function(o){e(".couponapp-no-coupon-option h4").html(tinymce.get("announcement_headline").getContent()),e("#announcement_headline").val(tinymce.get("announcement_headline").getContent())})),tinymce.get("announcement_headline").on("change",(function(o){e(".couponapp-no-coupon-option h4").html(tinymce.get("announcement_headline").getContent()),e("#announcement_headline").val(tinymce.get("announcement_headline").getContent())}))),e("#main_desc").length&&(tinymce.get("main_desc").on("keyup",(function(o){e(".couponapp-email-option .coupon-description").html(tinymce.get("main_desc").getContent()),e("#main_desc").val(tinymce.get("main_desc").getContent())})),tinymce.get("main_desc").on("change",(function(o){e(".couponapp-email-option .coupon-description").html(tinymce.get("main_desc").getContent()),e("#main_desc").val(tinymce.get("main_desc").getContent())}))),e("#coupon_desc").length&&(tinymce.get("coupon_desc").on("keyup",(function(o){e(".couponapp-link-option .coupon-description, .couponapp-code-option .coupon-description, .couponapp-scratch-code-option .coupon-description").html(tinymce.get("coupon_desc").getContent()),e("#coupon_desc").val(tinymce.get("coupon_desc").getContent())})),tinymce.get("coupon_desc").on("change",(function(o){e(".couponapp-link-option .coupon-description, .couponapp-code-option .coupon-description").html(tinymce.get("coupon_desc").getContent()),e("#coupon_desc").val(tinymce.get("coupon_desc").getContent())}))),e("#announcement_desc").length&&(tinymce.get("announcement_desc").on("keyup",(function(o){e(".couponapp-no-coupon-option .coupon-description").html(tinymce.get("announcement_desc").getContent()),e("#announcement_desc").val(tinymce.get("announcement_desc").getContent())})),tinymce.get("announcement_desc").on("change",(function(o){e(".couponapp-no-coupon-option .coupon-description").html(tinymce.get("announcement_desc").getContent()),e("#announcement_desc").val(tinymce.get("announcement_desc").getContent())}))),e(document).on("click",".add-bg-image",(function(){var o=e(this).closest(".content-bg-img-preview").find(".image-popup-type").val(),t=e(this).closest(".content-bg-img-preview").find(".img-position:checked").val();if(e(this).is(":checked")){e(this).closest(".content-bg-img-preview").find(".popup-bg-image-position").css("cssText","display: flex !important"),e(this).closest(".content-bg-img-preview").find(".popup-bg-image-btn").css("cssText","display: block !important");var n=e(this).closest(".content-bg-img-preview").find(".custom_bg_image").val();""!=n&&(e(".type-"+o).prepend("<div class='img-preview'><img src='"+n+"'></div>"),e(".tab-box-content.type-"+o).addClass("has-image"),e(".tab-box-content.type-"+o).addClass(t))}else e(this).closest(".content-bg-img-preview").find(".popup-bg-image-position").hide(),e(this).closest(".content-bg-img-preview").find(".popup-bg-image-btn").hide(),e(".type-"+o+" .img-preview").remove(),e(".tab-box-content.type-"+o).removeClass("has-image"),e(".tab-box-content.type-"+o).removeClass("left right top cover");u(),e(this).closest(".content-bg-img-preview").hasClass("coupon")&&"style-1"==e(".coupon-widget-style").find(".coupon-popup.checked .input-field-radio").val()&&e(".coupon-tabs .coupon-screen").trigger("click"),e(this).closest(".content-bg-img-preview").hasClass("announcement")&&e(".coupon-tabs").find(".announcement-screen").trigger("click")})),e(document).on("click",".upload-popup-bg-image",(function(o){var t=e(this).closest(".content-bg-img-preview").find(".image-popup-type").val(),n=e(this).closest(".content-bg-img-preview").find(".img-position:checked").val(),c=wp.media({title:"Select image for popup",multiple:!1,library:{type:"image"}}).open().on("select",(function(o){var a=c.state().get("selection").first();a=a.toJSON(),e("."+t+" .custom_bg_image").val(a.url),e(".type-"+t+" .img-preview").remove(),e(".type-"+t).prepend("<div class='img-preview'><img src='"+a.url+"'></div>"),e(".tab-box-content.type-"+t).addClass("has-image"),"cover"==n?e(".tab-box-content.type-"+t+".has-image.cover .content-preview").css({"background-image":"url("+a.url+")"}):e(".tab-box-content.type-"+t+".has-image .content-preview").css({"background-image":"url()"})}));u(),e(this).closest(".content-bg-img-preview").hasClass("coupon")&&"style-1"==e(".coupon-widget-style").find(".coupon-popup.checked .input-field-radio").val()&&e(".coupon-tabs .coupon-screen").trigger("click"),e(this).closest(".content-bg-img-preview").hasClass("announcement")&&"style-5"==e(".coupon-widget-style").find(".input-field-radio:checked").val()&&e(".coupon-tabs").find(".announcement-screen").trigger("click")})),e(document).on("click",".img-position",(function(){var o=e(this).closest(".content-bg-img-preview").find(".image-popup-type").val(),t=e(this).closest(".content-bg-img-preview").find(".custom_bg_image").val();e(".tab-box-content.type-"+o).removeClass("left right top cover"),e(".tab-box-content.type-"+o).addClass(e(this).val()),"cover"==e(this).val()?e(".tab-box-content.type-"+o+".has-image.cover .content-preview").css({"background-image":"url("+t+")"}):e(".tab-box-content.type-"+o+".has-image .content-preview").css({"background-image":""}),u(),e(this).closest(".content-bg-img-preview").hasClass("coupon")&&"style-1"==e(".coupon-widget-style").find(".coupon-popup.checked .input-field-radio").val()&&e(".coupon-tabs .coupon-screen").trigger("click"),e(this).closest(".content-bg-img-preview").hasClass("announcement")&&"style-5"==e(".coupon-widget-style").find(".input-field-radio:checked").val()&&e(".coupon-tabs").find(".announcement-screen").trigger("click")})),e(document).on("click",".add-bg-elements",(function(){var o=e(this).closest(".content-bg-elements-preview").attr("data-type"),t=e(".tab-box-content.type-"+o).attr("data-elements");e(this).is(":checked")?(e("."+o+" .popup-bg-element-type").removeClass("hide"),e(".tab-box-content.type-"+o).addClass("element-"+t)):(e("."+o+" .popup-bg-element-type").addClass("hide"),e(".tab-box-content.type-"+o).removeClass("element-"+t))})),e(document).on("click",".bg-elements",(function(){var o=e(this).closest(".content-bg-elements-preview").attr("data-type"),t=e(".tab-box-content.type-"+o).attr("data-elements");e(".tab-box-content.type-"+o).removeClass("element-"+t),e(".tab-box-content.type-"+o).addClass("element-"+e(this).val()).attr("data-elements",e(this).val())})),e(document).on("change","input[type=radio]",(function(){a()})),e(document).on("click",".coupon-tab, .next-step",(function(){a()})),t="cart_products",n="product",c="Select Products",jQuery("."+t).hasClass("hide")||jQuery("."+t).select2({tags:!1,multiple:!0,minimumInputLength:1,minimumResultsForSearch:10,placeholder:c,ajax:{url:cx_data.url,dataType:"json",type:"POST",data:function(e){return{action:"search_woo_product",type:n,search:e.term}},processResults:function(e){return e.length?{results:jQuery.map(e,(function(e){return{text:e.title,id:e.id}}))}:{results:jQuery.map(e,(function(e){return{text:"No results are found",id:0,disabled:!0}}))}}}}),a(),e(document).on("click",".show-icon",(function(){var o=e(".popup-type:not(.hide)").find(".popup-style-lable").text().trim();e(this).is(":checked")?(e(".show-tab-settings").removeClass("hide"),e(".show-icon-popup-setting").addClass("hide"),e("#tab_design").find(".tab-preview .tab-box").removeClass("hide"),e(".custom-pos").trigger("click"),e(".fonts-input").trigger("change"),e(".show-icon-notice").removeClass("active"),e(".show-icon-info").removeClass("active")):(e(".show-tab-settings").addClass("hide"),e(".show-icon-popup-setting").removeClass("hide"),e("#tab_design").find(".tab-preview .tab-box").addClass("hide"),"Slide-in Pop up"==o?e(".popup-custom-pos:checked").trigger("click"):"Floating Bar"==o&&e(".float-custom-pos").trigger("click"),e(".popup-fonts-input").trigger("change"),e(".show-icon-notice").addClass("active"),e(".show-icon-info").addClass("active"))})),e(document).on("click",".popup-custom-pos",(function(){e(".popup-preview .tab-box").removeClass((function(e,o){return(o.match(/(^|\s)couponapp-position-\S+/g)||[]).join(" ")})),"custom"==e(this).val()?(e(".popup-custom-position").removeClass("hide"),e("#popup_design").find(".popup-preview .tab-box").addClass("couponapp-position-"+e(".popup_custom_position:checked").val())):(e(".popup-custom-position").addClass("hide"),e("#popup_design").find(".popup-preview .tab-box").addClass("couponapp-position-"+e(this).val()))})),e(document).on("click",".popup_custom_position",(function(){e(".popup-preview .tab-box").removeClass((function(e,o){return(o.match(/(^|\s)couponapp-position-\S+/g)||[]).join(" ")})),e("#popup_design").find(".popup-preview .tab-box").addClass("couponapp-position-"+e(this).val())})),e(document).on("click",".float-custom-pos",(function(){e(".popup-preview .tab-box").removeClass((function(e,o){return(o.match(/(^|\s)couponapp-position-\S+/g)||[]).join(" ")})),e("#popup_design").find(".popup-preview .tab-box").addClass("couponapp-position-"+e(this).val())})),e(".popup-fonts-input").on("change",(function(){e(".select2-selection__rendered").removeAttr("title");var o=e(this).val();font_arr=o.split("-"),font=font_arr[1].replace(/_/g," "),font_type=font_arr[0].replace(/_/g,""),e(".couponapp-google-font").remove(),e("head").append('<link href="https://fonts.googleapis.com/css?family='+font+':400,600,700" rel="stylesheet" type="text/css" class="couponapp-google-font">'),"System stack"==font&&(font='-apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'),e(".tab-preview .preview-box").css("font-family",font);var t="";t+=".coupon-button, .popup-preview .preview-box, .popup-preview .preview-box button {font-family: "+font+" !important;}",e("#popup_fonts_input_css").remove(),e("head").append("<style id='popup_fonts_input_css'>"+t+"</style>")})),tabs=e(".tabs").tabs({activate:function(o,t){setTimeout((function(){e(".tabs.ui-widget-content > .ui-tabs-panel[aria-hidden='false']").length&&jQuery(".tabs.ui-widget-content").offset().top-jQuery(window).scrollTop()<0&&e("body, html").animate({scrollTop:e(".tabs.ui-widget-content > .ui-tabs-panel[aria-hidden='false']").offset().top-120},250)}),50)}}),e(".screen-tab").tabs(),validation_popup=e(".validation-popup").dialog({resizable:!1,modal:!0,draggable:!1,height:"auto",width:400,overflow:"auto",autoOpen:!1,dialogClass:"fixPosition"}),layout_validation=e(".layout-validation").dialog({resizable:!1,modal:!0,draggable:!1,height:"auto",width:400,overflow:"auto",autoOpen:!1,dialogClass:"fixPosition"}),e(".widget-tabs").find("a").click((function(o){href=e(this).attr("href"),"#triggers_targetting"!=href&&"#popup_design"!=href||s(href)})),e(".next-step").click((function(o){o.preventDefault(),href=e(this).attr("tab"),error=0,"#triggers_targetting"==href||"#popup_design"==href?s(href):e('a[href="'+href+'"]').trigger("click")})),e(document).on("click","#tab-custom-icon-option",(function(){var o=wp.media({title:"Select image for popup",multiple:!1,library:{type:"image"}}).open().on("select",(function(t){var n=o.state().get("selection").first();n=n.toJSON(),e(".tab-preview").find(".icon-img").html("<img src='"+n.url+"' class='custom-tab-img'>"),e("#tab_custom_icon").val(n.url)}))})),e(".fonts-input").on("change",(function(){e(".select2-selection__rendered").removeAttr("title");var o=e(this).val();font_arr=o.split("-"),font=font_arr[1].replace(/_/g," "),font_type=font_arr[0].replace(/_/g,""),e(".couponapp-google-font").remove(),e("head").append('<link href="https://fonts.googleapis.com/css?family='+font+':400,600,700" rel="stylesheet" type="text/css" class="couponapp-google-font">'),"System stack"==font_type&&(font='-apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'),e(".tab-preview .preview-box").css("font-family",font),e(".popup-preview .preview-box").css("font-family",font),e(".coupon-button").css("font-family",font+" !important")})),e(".custom-pos").click((function(){let o=e(this).val();"custom"==o?e(".custom-position").removeClass("hide"):e(".custom-position").addClass("hide"),e(".show-icon-popup-setting").find("input[value='"+o+"']").prop("checked",!0)})),e(document).on("click",".custom_position",(function(){e(".popup-custom-position").find("input[value='"+e(this).val()+"']").prop("checked",!0)})),e(document).on("keyup",".custom-position .bottom-spacing",(function(){e(".popup-custom-position").find(".bottom-spacing").val(e(this).val())})),e(document).on("keyup",".custom-position .side-spacing",(function(){e(".popup-custom-position").find(".side-spacing").val(e(this).val())})),e(".pmsg").click((function(){e(this).is(":checked")?(e(".pending-msg").removeClass("hide"),e(".coupon-pending-message").removeClass("hide"),e(".coupon-pending-message").text(e(".no_msg").val())):(e(".pending-msg").addClass("hide"),e(".coupon-pending-message").addClass("hide"))})),e(".no_msg").change((function(){parseInt(e(this).val())<1&&e(this).val(1),e(".coupon-pending-message").text(e(this).val())})),e(".delay-time").change((function(){parseInt(e(this).val())<0&&e(".delay-time").val(0)})),e(".scroll-page").change((function(){parseInt(e(this).val())<0&&e(".scroll-page").val(0)})),e(".close-time").change((function(){parseInt(e(this).val())<0&&e(".close-time").val(0)})),e(".close-popup-button").click((function(){e(".webcomepopup").hide(),url=cx_data.site_url+"/wp-json/couponx/v1/update_popup_status",e.post({url:url,headers:{"X-WP-Nonce":e('input[name="cx_nonce"]').val()},function(e){console.log(e)}})})),e(".prev-step").click((function(o){o.preventDefault(),href=e(this).attr("tab"),e('a[href="'+href+'"]').trigger("click")}));let l="",r=e(".validation-trigger").dialog({resizable:!1,dialogClass:"fixPosition",modal:!0,draggable:!1,height:"auto",width:400,overflow:"auto",autoOpen:!1,buttons:[{text:__("Save anyway","coupon-x"),class:"btn btn-red",click:function(){e("#loader").show(),d(l),e(this).dialog("close")}},{text:__("Select trigger","coupon-x"),class:"btn select-trigger",click:function(){e(this).dialog("close"),e('a[tab="#triggers_targetting"]').trigger("click")}}]}),d=function(o){let t=new FormData;e.each(e("form#cx_widget").serializeArray(),(function(){t.append(this.name,this.value)})),e.each(e("div.unique-coupon-div :input").serializeArray(),(function(){t.append(this.name,this.value)})),e.each(e("div.unique-coupon-div select").serializeArray(),(function(){t.append(this.name,this.value)})),e(".ex-coupon:checked").length>0&&t.append("cx_settings[ex_coupon][coupon]",e(".ex-coupon:checked").val()),e("input[name='cx_settings[trigger][display_desktop]'").is(":checked")||t.append("cx_settings[trigger][display_desktop]",0),e("input[name='cx_settings[trigger][display_mobile]'").is(":checked")||t.append("cx_settings[trigger][display_mobile]",0),e("input[name='cx_settings[trigger][enable_time_delay]'").is(":checked")||t.append("cx_settings[trigger][enable_time_delay]",0),t.append("action","create_cx_widget"),url=cx_data.url,e.ajax({url:url,type:"post",processData:!1,contentType:!1,data:t,dataType:"json",success:function(t){0==t.status?(e("#loader").hide(),e("#wp_error_flash_message").removeClass("hide"),setTimeout((function(){e("#wp_error_flash_message").addClass("hide")}),6e3)):(e(".widget-id").val(t.widget_id),e("#loader").hide(),e(".first-widget-popup").length>0?(e(".first-widget-popup").removeClass("hide"),e(".popup-overlayout-cls").css("display","block")):""!=o?location.href=o:(e("#wp_flash_message").removeClass("hide"),setTimeout((function(){e("#wp_flash_message").addClass("hide")}),6e3)))}})};function u(){if("style-1"==e(".coupon-widget-style").find(".input-field-radio:checked").val()||"style-3"==e(".coupon-widget-style").find(".input-field-radio:checked").val()){e(".screen-tabs").addClass("hide"),e("#main_screen").addClass("hide"),e("#coupon_screen").removeClass("hide"),e("#announcement_screen").addClass("hide"),e(".coupon-tabs").find(".coupon-screen").trigger("click"),e(".cp-clr").removeClass("hide"),e("#coupon_headline_clr").next(".sp-replacer").removeClass("hide"),e("#coupon_desc_color").next(".sp-replacer").removeClass("hide");var o=e("input[name='cx_settings[popup][style]']:checked").val();"style-1"==o?(e(".tab-box-content.couponapp-code-option").removeClass("hide"),e(".tab-box-content.couponapp-link-option").addClass("hide")):"style-3"==o&&(e(".tab-box-content.couponapp-link-option").removeClass("hide"),e(".tab-box-content.couponapp-code-option").addClass("hide")),e(".content-bg-img-preview.coupon").removeClass("hide");var t=e("input[name='cx_settings[coupon][add_image]']:checked").val(),n=e("input[name='cx_settings[coupon][image_url]']").val(),c=e("input[name='cx_settings[coupon][img_position]']:checked").val();1==t&&""!=n?(e(".type-coupon .img-preview").remove(),e(".type-coupon").prepend("<div class='img-preview'><img src='"+n+"'></div>"),e(".tab-box-content.type-coupon").addClass("has-image"),e(".tab-box-content.type-coupon").removeClass("top left right cover").addClass(c),"cover"==c?e(".tab-box-content.type-coupon.has-image.cover .content-preview").css({"background-image":"url("+n+")"}):e(".tab-box-content.type-coupon.has-image .content-preview").css({"background-image":"url()"})):(e(".type-coupon .img-preview").remove(),e(".tab-box-content.type-coupon").addClass("has-image"),e(".tab-box-content.type-coupon.has-image .content-preview").css({"background-image":"url()"})),e(".cpn-cpy").addClass("hide");var a=e(".tab-box-content.type-coupon").attr("data-elements"),i=e("input[name='cx_settings[coupon][element_type]']:checked").val();e("input[name='cx_settings[coupon][add_elements]']").is(":checked")?(e(".tab-box-content.type-coupon").removeClass("element-"+a),e(".tab-box-content.type-coupon").addClass("element-"+i).attr("data-elements",i)):e(".tab-box-content.type-coupon").removeClass("element-"+a)}else if("style-2"==e(".coupon-widget-style").find(".input-field-radio:checked").val())if(e("#main_screen").removeClass("hide"),e("#coupon_screen").removeClass("hide"),e("#announcement_screen").addClass("hide"),e(".announcement-screen").addClass("hide"),e(".screen-tabs").find(".main-screen").trigger("click"),e(".screen-tabs").removeClass("hide"),e(".coupon-screen").removeClass("hide"),""==e(".widget-id").val()&&(e(".main-headline").hasClass("changed")||(e(".main-headline").val("Enter your email and unlock amazing deals!"),e(".couponapp-email-option h4").text("Enter your email and unlock amazing deals!")),e(".main-desc").hasClass("changed")||(e(".main-desc").val("Get ready to unwrap the gift of savings!"),e(".couponapp-email-option .coupon-description").text("Get ready to unwrap the gift of savings!"))),e(".cpn-cpy-style").is(":checked")){e(".cp-clr").addClass("hide"),e("#coupon_headline_clr").next(".sp-replacer").addClass("hide"),e("#coupon_desc_color").next(".sp-replacer").addClass("hide"),e(".content-bg-img-preview.coupon").addClass("hide");t=e("input[name='cx_settings[main][add_image]']:checked").val(),n=e("input[name='cx_settings[main][image_url]']").val(),c=e("input[name='cx_settings[main][img_position]']:checked").val();1==t&&""!=n?(e(".type-coupon .img-preview").remove(),e(".type-coupon").prepend("<div class='img-preview'><img src='"+n+"'></div>"),e(".tab-box-content.type-coupon").addClass("has-image"),e(".tab-box-content.type-coupon").removeClass("top left right cover").addClass(c),"cover"==c?e(".tab-box-content.type-coupon.has-image.cover .content-preview").css({"background-image":"url("+n+")"}):e(".tab-box-content.type-coupon.has-image .content-preview").css({"background-image":"url()"})):(e(".type-coupon .img-preview").remove(),e(".tab-box-content.type-coupon").addClass("has-image"),e(".tab-box-content.type-coupon.has-image .content-preview").css({"background-image":"url()"}))}else{e(".cp-clr").removeClass("hide"),e("#coupon_headline_clr").next(".sp-replacer").removeClass("hide"),e("#coupon_desc_color").next(".sp-replacer").removeClass("hide"),e(".content-bg-img-preview.coupon").removeClass("hide");t=e("input[name='cx_settings[coupon][add_image]']:checked").val(),n=e("input[name='cx_settings[coupon][image_url]']").val(),c=e("input[name='cx_settings[coupon][img_position]']:checked").val();1==t&&""!=n?(e(".type-coupon .img-preview").remove(),e(".type-coupon").prepend("<div class='img-preview'><img src='"+n+"'></div>"),e(".tab-box-content.type-coupon").addClass("has-image"),e(".tab-box-content.type-coupon").removeClass("top left right cover").addClass(c),"cover"==c?e(".tab-box-content.type-coupon.has-image.cover .content-preview").css({"background-image":"url("+n+")"}):e(".tab-box-content.type-coupon.has-image .content-preview").css({"background-image":"url()"})):(e(".type-coupon .img-preview").remove(),e(".tab-box-content.type-coupon").addClass("has-image"),e(".tab-box-content.type-coupon.has-image .content-preview").css({"background-image":"url()"}))}else if("style-4"==e(".coupon-widget-style").find(".input-field-radio:checked").val()){e(".screen-tabs").addClass("hide"),e("#main_screen").addClass("hide"),e("#coupon_screen").addClass("hide"),e("#announcement_screen").removeClass("hide"),e(".coupon-tabs").find(".announcement-screen").trigger("click"),e(".an-cpy-style").addClass("hide"),""==e(".widget-id").val()&&(e(".announcement-headline").hasClass("changed")||(e(".announcement-headline").val("Check out our latest collection"),e(".couponapp-no-coupon-option h4").text("Check out our latest collection")),e(".announcement-desc").hasClass("changed")||(e(".couponapp-no-coupon-option .coupon-description").text("New fall collection is now on sale"),e(".announcement-desc").val("New fall collection is now on sale"))),e(".an-clr").removeClass("hide"),e(".enable-btn").is(":checked")&&e(".btn-clr").removeClass("hide"),e("#announcement_headline_clr").next(".sp-replacer").removeClass("hide"),e("#announcement_desc_color").next(".sp-replacer").removeClass("hide"),e(".content-bg-img-preview.announcement").removeClass("hide");t=e("input[name='cx_settings[announcement][add_image]']:checked").val(),n=e("input[name='cx_settings[announcement][image_url]']").val(),c=e("input[name='cx_settings[announcement][img_position]']:checked").val();1==t&&""!=n?(e(".type-announcement .img-preview").remove(),e(".type-announcement").prepend("<div class='img-preview'><img src='"+n+"'></div>"),e(".tab-box-content.type-announcement").addClass("has-image"),e(".tab-box-content.type-announcement").removeClass("top left right cover").addClass(c),"cover"==c?e(".tab-box-content.type-announcement.has-image.cover .content-preview").css({"background-image":"url("+n+")"}):e(".tab-box-content.type-announcement.has-image .content-preview").css({"background-image":"url()"})):(e(".type-announcement .img-preview").remove(),e(".tab-box-content.type-announcement").removeClass("top left right cover").addClass(c),e(".tab-box-content.type-announcement").addClass("has-image"),e(".tab-box-content.type-announcement.has-image .content-preview").css({"background-image":"url()"}))}else if("style-5"==e(".coupon-widget-style").find(".input-field-radio:checked").val())if(e("#main_screen").removeClass("hide"),e(".main-screen").removeClass("hide"),e("#coupon_screen").addClass("hide"),e(".coupon-screen").addClass("hide"),e("#announcement_screen").removeClass("hide"),e(".announcement-screen").removeClass("hide"),e(".screen-tabs").find(".main-screen").trigger("click"),e(".screen-tabs").removeClass("hide"),e(".an-cpy-style").removeClass("hide"),""==e(".widget-id").val()&&(e(".main-headline").hasClass("changed")||(e(".main-headline").val("Enter your email and unlock amazing deals!"),e(".couponapp-email-option h4").text("Enter your email and unlock amazing deals!")),e(".main-desc").hasClass("changed")||(e(".main-desc").val("Keep in touch with latest discounts and promos"),e(".couponapp-email-option .coupon-description").text("Keep in touch with latest discounts and promos")),e(".announcement-headline").hasClass("changed")||(e(".announcement-headline").val("Check out our latest collection"),e(".couponapp-no-coupon-option h4").text("Check out our latest collection")),e(".announcement-desc").hasClass("changed")||(e(".couponapp-no-coupon-option .coupon-description").text("New fall collection is now on sale"),e(".announcement-desc").val("New fall collection is now on sale"))),e(".cpy-style").is(":checked")){e(".an-clr").addClass("hide"),e("#announcement_headline_clr").next(".sp-replacer").addClass("hide"),e("#announcement_desc_color").next(".sp-replacer").addClass("hide"),e(".content-bg-img-preview.announcement").addClass("hide");t=e("input[name='cx_settings[main][add_image]']:checked").val(),n=e("input[name='cx_settings[main][image_url]']").val(),c=e("input[name='cx_settings[main][img_position]']:checked").val();1==t&&""!=n?(e(".type-announcement .img-preview").remove(),e(".type-announcement").prepend("<div class='img-preview'><img src='"+n+"'></div>"),e(".tab-box-content.type-announcement").addClass("has-image"),e(".tab-box-content.type-announcement").removeClass("top left right cover").addClass(c),"cover"==c?e(".tab-box-content.type-announcement.has-image.cover .content-preview").css({"background-image":"url("+n+")"}):e(".tab-box-content.type-announcement.has-image .content-preview").css({"background-image":"url()"})):(e(".type-announcement .img-preview").remove(),e(".tab-box-content.type-announcement").addClass("has-image"),e(".tab-box-content.type-announcement.has-image .content-preview").css({"background-image":"url()"}))}else{e(".an-clr").removeClass("hide"),e("#announcement_headline_clr").next(".sp-replacer").removeClass("hide"),e("#announcement_desc_color").next(".sp-replacer").removeClass("hide"),e(".content-bg-img-preview.announcement").removeClass("hide");t=e("input[name='cx_settings[announcement][add_image]']:checked").val(),n=e("input[name='cx_settings[announcement][image_url]']").val(),c=e("input[name='cx_settings[announcement][img_position]']:checked").val();1==t&&""!=n?(e(".type-announcement .img-preview").remove(),e(".type-announcement").prepend("<div class='img-preview'><img src='"+n+"'></div>"),e(".tab-box-content.type-announcement").addClass("has-image"),e(".tab-box-content.type-announcement").removeClass("top left right cover").addClass(c),"cover"==c?e(".tab-box-content.type-announcement.has-image.cover .content-preview").css({"background-image":"url("+n+")"}):e(".tab-box-content.type-announcement.has-image .content-preview").css({"background-image":"url()"})):(e(".type-announcement .img-preview").remove(),e(".tab-box-content.type-announcement").addClass("has-image"),e(".tab-box-content.type-announcement.has-image .content-preview").css({"background-image":"url()"}))}}e(".save").click((function(t){t.preventDefault(),l="",trigger=!e(".exit-intent").is(":checked")&&!e(".page-scroll").is(":checked")&&!e(".time-delay").is(":checked"),view=!e(".chk-desktop").is(":checked")&&!e(".chk-mobile").is(":checked"),error=0,2!=e("input.coupon-type").val()&&3!=e("input.coupon-type").val()||(error=p()),""==e("input.coupon-type").val()?(validation_popup.dialog("open"),o=validation_popup):""==e("#popup_type").val()?(layout_validation.dialog("open"),o=layout_validation):trigger?(e(".trigger-error").text(__("Please select a trigger before publishing your widget","coupon-x")),e(".select-trigger").text(__("Select trigger","coupon-x")),r.dialog("open"),o=r):view?(e(".trigger-error").text(__("Please select mobile/desktop before publishing your widget","coupon-x")),e(".select-trigger").text(__("Select device","coupon-x")),r.dialog("open"),o=r):1==error?e('a[tab="#choose_coupon"]').trigger("click"):(e("#loader").show(),d(""))})),e(".time-delay").click((function(){e(this).is(":checked")?e(".delay-time").removeAttr("disabled"):e(".delay-time").attr("disabled","disabled")})),e(".page-scroll").click((function(){e(this).is(":checked")?e(".scroll-page").removeAttr("disabled"):e(".scroll-page").attr("disabled","disabled")})),e(".go-to-dashboard").click((function(t){t.preventDefault(),url=e(this).attr("href"),l=url,trigger=!e(".exit-intent").is(":checked")&&!e(".page-scroll").is(":checked")&&!e(".time-delay").is(":checked"),view=!e(".chk-desktop").is(":checked")&&!e(".chk-mobile").is(":checked"),""==e("input.coupon-type").val()?(validation_popup.dialog("open"),o=validation_popup):trigger?(e(".trigger-error").text(__("Please select a trigger before publishing your widget","coupon-x")),e(".select-trigger").text(__("Select trigger","coupon-x")),r.dialog("open"),o=r):view?(e(".trigger-error").text(__("Please select mobile/desktop before publishing your widget","coupon-x")),e(".select-trigger").text(__("Select device","coupon-x")),r.dialog("open"),o=r):(e("#loader").show(),d(url))})),e(".tab-shape").change((function(){if(shape=e(this).val(),new_class="couponapp-tab-shape-"+shape,element=e(".tab-preview").find(".tab-box"),element.removeClass((function(e,o){return(o.match(/(^|\s)couponapp-tab-shape-\S+/g)||[]).join(" ")})),element.addClass(new_class),"hexagon"==shape){size=e(".tab-size").val(),color=e('input[name="cx_settings[tab][tab_color]"]').val();let o='<span class="after hexagon-after" ></span>';o+='<span class="before hexagon-before"  ></span>',e(".tab-preview").find(".tab-icon").prepend(o),e(".preview-box .tab-icon").css("height",size/Math.sqrt(3)+"px"),e(".hexagon-after").css("background-color",color+" !important").css("height",size/Math.sqrt(3)+"px"),e(".hexagon-before").css("background-color",color+" !important").css("height",size/Math.sqrt(3)+"px")}e(".tab-size").trigger("change")})),e(".custom-pos").click((function(){pos=e(this).val(),"custom"==pos&&(pos=e(".custom_position:checked").val()),new_class="couponapp-position-"+pos,element=e(".tab-preview").find(".tab-box"),element.removeClass((function(e,o){return(o.match(/(^|\s)couponapp-position-\S+/g)||[]).join(" ")})),element.addClass(new_class),e(".tab-box").removeClass((function(e,o){return(o.match(/(^|\s)couponapp-position-\S+/g)||[]).join(" ")})),e(".tab-box").addClass(new_class),e(".custom-icon-bg").remove(),clr=e("#action_bgcolor").val(),console.log(clr),"left"==pos?e("body").append('<style class="custom-icon-bg">.tab-text:after {border-right-color:'+clr+" !important;border-left-color:transparent !important}</style>"):"right"==pos&&e("body").append('<style class="custom-icon-bg">.tab-text:after {border-left-color:'+clr+" !important;border-right-color:transparent !important}</style>")})),e('input[name="cx_settings[main][consent_text]"').keyup((function(){text=e(this).val(),e(".email-content-checkbox").find("span").text(text)})),e(".custom_position").click((function(){pos=e(this).val(),new_class="couponapp-position-"+pos,element=e(".tab-preview").find(".tab-box"),element.removeClass((function(e,o){return(o.match(/(^|\s)couponapp-position-\S+/g)||[]).join(" ")})),element.addClass(new_class),e(".tab-box").removeClass((function(e,o){return(o.match(/(^|\s)couponapp-position-\S+/g)||[]).join(" ")})),e(".tab-box").addClass(new_class),e(".custom-icon-bg").remove(),clr=e("#action_bgcolor").val(),console.log(clr),"left"==pos?e("body").append('<style class="custom-icon-bg">.tab-text:after {border-right-color:'+clr+" !important;border-left-color:transparent !important}</style>"):"right"==pos&&e("body").append('<style class="custom-icon-bg">.tab-text:after {border-left-color:'+clr+" !important;border-right-color:transparent !important}</style>")})),e(".tab-icon").change((function(){icon=e(this).val(),icon_color=e('input[name="cx_settings[tab][icon_color]"]').val(),svg=e("span#"+icon).html(),e(".tab-preview").find(".icon-img").html(svg),e(".tab-preview").find(".tab-icon").find("svg").css("fill",icon_color)})),e(".tab-size").change((function(){size=e(this).val();var o=64*e(this).val()/100;e(".preview-box .tab-icon").css("width",size+"px").css("height",size+"px"),e(".preview-box .tab-icon svg").css("width",o+"px").css("height",o+"px").css("top","calc(50% - "+o/2+"px)").css("left","calc(50% - "+o/2+"px)"),"hexagon"==e(".tab-shape").val()&&(ht=e(this).val()/Math.sqrt(3)+"px",e(".preview-box .tab-icon").css("width",size+"px").css("height",size/Math.sqrt(3)+"px"),e(".hexagon-after").css("width",size+"px").css("height",size/Math.sqrt(3)+"px"),e(".hexagon-before").css("width",size+"px").css("height",size/Math.sqrt(3)+"px"))})),animation_effect=e(".animation-effect").find("option:selected").val(),e(".animation-effect").change((function(){effect=e(this).val(),old_class="couponapp-"+animation_effect+"-animation",animation_effect=effect,new_class="couponapp-"+effect+"-animation",element=e(".tab-preview").find(".tab-box"),element.removeClass(old_class),element.addClass(new_class),"none"==effect?e(".show-attention-effect").addClass("hide"):e(".show-attention-effect").removeClass("hide")})),e("textarea.custom-css").change((function(){e(".coupon-custom-css").remove(),e("body").append('<style class="coupon-custom-css">'+e(this).val()+"</style")})),e(".call-action").keyup((function(){let o=e(this).val();e(".tab-preview").find(".tab-text").text(o)})),u(),e(".coupon-widget-style .input-field-radio").click((function(){u();let o=e(".coupon-widget-style").find(".input-field-radio:checked").val();"style-3"==o?e(".style-3").removeClass("hide"):e(".style-3").addClass("hide"),"style-2"==o?(e(".cpn-cpy").removeClass("hide"),e(".send-coupon-clint-hide").removeClass("hide"),e(".show-coupon-style-1").removeClass("hide")):(e(".cpn-cpy").addClass("hide"),e(".send-coupon-clint-hide").addClass("hide"),e(".show-coupon-style-1").addClass("hide")),"style-1"==e(this).val()?e(".show-coupon-style-1").removeClass("hide"):e(".show-coupon-style-1").addClass("hide"),e(".ctype").removeClass("checked"),"style-1"==o?(e(this).closest(".ctype").addClass("checked"),e(".couponapp-email-code-option").removeClass("hide"),e(".couponapp-email-option").addClass("hide"),e(".couponapp-no-coupon-option").addClass("hide"),e(".couponapp-email-code-option").find(".form-wrap").removeClass("email-popup"),e(".tab-box-content").find(".coupon-button").text("Copy Code"),e(".cpy-btn").val("Copy Code"),e(".couponapp-link-option").addClass("hide"),e(".couponapp-code-option").removeClass("hide"),e(".custom-link").addClass("hide"),e(".couponapp-email-code-option").css("background-color",e("#coupon_bgcolor").val()),e(".couponapp-email-code-option h4").css("color",e("#coupon_headline_clr").val()),e(".couponapp-email-code-option .coupon-description").css("color",e("#coupon_desc_color").val()),text_color=e("#cpy_btn_color").val(),clr=e("#cpy_btn_bgcolor").val(),o="background-color:"+clr+"!important;color: "+text_color+"!important;",e(".couponapp-email-code-option .coupon-button").attr("style",o),o="background-color:"+e("#coupon_pbgcolor").val()+"!important;color: "+e("#coupon_color").val()+"!important;",e(".couponapp-email-code-option .form-wrap p.coupon-code-text").attr("style",o),o="background-color:"+e("#coupon_pbgcolor").val()+"!important;border-color:"+e("#coupon_brdcolor").val(),e(".couponapp-email-code-option .form-wrap").attr("style",o),e(".send-coupon-clint-hide").addClass("hide")):"style-2"==o?(e(this).closest(".ctype").addClass("checked"),e(".couponapp-email-code-option").addClass("hide"),e(".couponapp-link-option").addClass("hide"),e(".couponapp-email-option").removeClass("hide"),e(".couponapp-no-coupon-option").addClass("hide"),e(".cpy-btn").val("Copy Code"),e(".couponapp-email-option").find(".coupon-button").text("Send"),e(".couponapp-code-option").find(".coupon-button").text("Copy Code"),e(".send-coupon-clint-hide").removeClass("hide")):"style-3"==o?(e(this).closest(".ctype").addClass("checked"),e(".couponapp-email-code-option").removeClass("hide"),e(".couponapp-email-option").addClass("hide"),e(".couponapp-no-coupon-option").addClass("hide"),e(".tab-box-content").find(".coupon-button").text("CLAIM NOW"),e(".cpy-btn").val("CLAIM NOW"),e(".couponapp-link-option").removeClass("hide"),e(".couponapp-code-option").addClass("hide"),e(".custom-link").addClass("hide"),e(".send-coupon-clint-hide").addClass("hide")):"style-4"==o?(e(this).closest(".ctype").addClass("checked"),e(".couponapp-email-code-option").addClass("hide"),e(".couponapp-link-option").addClass("hide"),e(".couponapp-email-option").addClass("hide"),e(".couponapp-no-coupon-option").removeClass("hide"),e(".couponapp-no-coupon-option").css("background-color",e("#announcement_bgcolor").val()),e(".couponapp-no-coupon-option h4").css("color",e("#announcement_headline_clr").val()),e(".couponapp-no-coupon-option p").css("color",e("#announcement_desc_color").val()),text_color=e("#announcement_btn_color").val(),clr=e("#announcement_btn_bgcolor").val(),o="background-color:"+clr+"!important;color: "+text_color+"!important;",e(".couponapp-no-coupon-option .announcement-button").attr("style",o),e(".send-coupon-clint-hide").addClass("hide")):"style-5"==o&&(e(this).closest(".ctype").addClass("checked"),e(".couponapp-email-code-option").addClass("hide"),e(".couponapp-link-option").addClass("hide"),e(".couponapp-email-option").removeClass("hide"),e(".couponapp-no-coupon-option").addClass("hide"),e(".couponapp-email-option").find(".coupon-button").text("Send"),e(".send-coupon-clint-hide").addClass("hide"))})),e(".main-screen").click((function(){e(".couponapp-email-option").removeClass("hide"),e(".couponapp-no-coupon-option").addClass("hide"),e(".couponapp-code-option").addClass("hide")})),e(".coupon-screen").click((function(){e(".couponapp-email-option").addClass("hide"),e(".couponapp-code-option").removeClass("hide"),e(".couponapp-no-coupon-option").addClass("hide"),1==e(".show-coupon-type").val()&&e(".coupon-widget-style").find(".coupon-popup.checked .input-field-radio").val(),"style-1"!=e(".coupon-widget-style").find(".coupon-popup.checked .input-field-radio").val()&&"style-2"!=e(".coupon-widget-style").find(".coupon-popup.checked .input-field-radio").val()||e(".show-coupon-style-1").removeClass("hide")})),e(".announcement-screen").click((function(){e(".couponapp-email-option").addClass("hide"),e(".couponapp-code-option").addClass("hide"),e(".couponapp-no-coupon-option").removeClass("hide"),e(".cpy-style").is(":checked")?(e("#announcement_headline_clr").next(".sp-replacer").addClass("hide"),e("#announcement_desc_color").next(".sp-replacer").addClass("hide")):(e("#announcement_headline_clr").next(".sp-replacer").removeClass("hide"),e("#announcement_desc_color").next(".sp-replacer").removeClass("hide")),e("input[name='cx_settings[announcement][enable_styles]']").trigger("click"),e("input[name='cx_settings[announcement][enable_styles]']").trigger("click")})),e('.coupon-tab[href="#popup_design"]').click((function(t){t.preventDefault(),""==e("input.coupon-type").val()&&(validation_popup.dialog("open"),o=validation_popup)})),e(".link-type").change((function(){"2"==e(this).val()?e(".custom-link").removeClass("hide"):e(".custom-link").addClass("hide")})),e(".consent").click((function(){e(this).is(":checked")?(e(".consent-text").removeClass("hide"),e("#email-content-checkbox").removeClass("hide")):(e(".consent-text").addClass("hide"),e("#email-content-checkbox").addClass("hide"))})),e(".auto-close").click((function(){e(this).is(":checked")?e(".auto-close-text").removeClass("hide"):e(".auto-close-text").addClass("hide")})),e("#coupon_screen .coupon-headline").keyup((function(){e(".couponapp-code-option h4").text(e(this).val()),e(".couponapp-link-option h4").text(e(this).val())})),e("#coupon_screen .cpy-btn").keyup((function(){e(".couponapp-code-option .coupon-button").text(e(this).val()),e(".couponapp-link-option .coupon-button").text(e(this).val())})),e("#coupon_screen .coupon-desc").keyup((function(){e(".couponapp-code-option .coupon-description").text(e(this).val()),e(".couponapp-link-option .coupon-description").text(e(this).val())})),e(".main-headline").keyup((function(){e(".couponapp-email-option h4").text(e(this).val()),e(this).addClass("changed")})),e(".main-email").keyup((function(){e(".couponapp-email-option .coupon-code-text").text(e(this).val())})),e(".main-btn-text").keyup((function(){e(".couponapp-email-option .coupon-button").text(e(this).val())})),e(".main-desc").keyup((function(){e(".couponapp-email-option .coupon-description").text(e(this).val()),e(this).addClass("changed")})),e(".announcement-headline").keyup((function(){e(".couponapp-no-coupon-option h4").text(e(this).val()),e(this).addClass("changed")})),e(".announcement-desc").keyup((function(){e(".couponapp-no-coupon-option p").text(e(this).val()),e(this).addClass("changed")})),e(".announcement-btn").keyup((function(){e(".announcement-button").text(e(this).val())})),e(".select-wp-exisitng-coupon").click((function(o){o.preventDefault(),e(this).hasClass("disable")?location.href=e(this).find("a").attr("href"):(e(".cp").removeClass("hide"),e(".an").addClass("hide"),e(".existing-coupon").removeClass("hide"),e(".unique-coupon").addClass("hide"),e(".coupon-type").removeClass("active-type"),e(this).addClass("active-type"),e("input.coupon-type").val(1),style=e(".coupon-widget-style").find(".input-field-radio:checked").val(),""!=style&&"style-4"!=style&&"style-5"!=style||e("#input-field-radio-style-1").trigger("click"),e("html, body").animate({scrollTop:e("#couponapp-wp-coupon-codes").offset().top-130},250))})),e(".custom-coupon-code").click((function(o){o.preventDefault(),e(this).hasClass("disable")?location.href=e(this).find("a").attr("href"):(e(".cp").removeClass("hide"),e(".an").addClass("hide"),e(".existing-coupon").addClass("hide"),e(".coupon-type").removeClass("active-type"),e(this).addClass("active-type"),e(".unique-coupon").removeClass("hide"),e(".discount-code-wrap").removeClass("hide"),e(".unique-coupon-description").addClass("hide"),e("input.coupon-type").val(3),style=e(".coupon-widget-style").find(".input-field-radio:checked").val(),""!=style&&"style-4"!=style&&"style-5"!=style||e("#input-field-radio-style-1").trigger("click"),e("html, body").animate({scrollTop:e("#couponapp-wp-unique-coupon-code").offset().top-130},250))})),e(".discount-code").change((function(){code=e(this).val(),e(".couponapp-code-option .couponapp-inner-text").val(code),e(".couponapp-code-option .coupon-code-text").text(code),e(".couponapp-inner-text").val(code)})),e(".ex-coupon").click((function(){code=e(this).data("code"),e(".couponapp-code-option .couponapp-inner-text").val(code),e(".couponapp-code-option .coupon-code-text").text(code),e(".couponapp-inner-text").val(code)})),e(".select-wp-generate-unique-coupon").click((function(o){o.preventDefault(),e(this).hasClass("disable")?location.href=e(this).find("a").attr("href"):(e(".cp").removeClass("hide"),e(".an").addClass("hide"),e(".discount-code-wrap").addClass("hide"),e(".unique-coupon-description").removeClass("hide"),e(".existing-coupon").addClass("hide"),e(".unique-coupon").removeClass("hide"),e(".coupon-type").removeClass("active-type"),e(this).addClass("active-type"),e("input.coupon-type").val(2),e(".couponapp-code-option .couponapp-inner-text").val("Unique Code"),e(".couponapp-code-option .coupon-code-text").text("Unique Code"),e(".couponapp-inner-text").val("Unique Code"),style=e(".coupon-widget-style").find(".input-field-radio:checked").val(),""!=style&&"style-4"!=style&&"style-5"!=style||e("#input-field-radio-style-1").trigger("click"),e("html, body").animate({scrollTop:e("#couponapp-wp-unique-coupon-code").offset().top-130},250))})),e(".applies_to").click((function(){applies_to=e(this).val(),"collections"==applies_to?(e(".applies-to-collections").removeClass("hide"),e(".applies-to-products").addClass("hide")):"products"==applies_to?(e(".applies-to-collections").addClass("hide"),e(".applies-to-products").removeClass("hide")):(e(".applies-to-collections").addClass("hide"),e(".applies-to-products").addClass("hide"))})),e(".min-req").change((function(){min_req=e(this).val(),"subtotal"==min_req?(e(".discount-min-requirements").removeClass("hide"),e(".discount-min-qty-items").addClass("hide")):"qty"==min_req?(e(".discount-min-requirements").addClass("hide"),e(".discount-min-qty-items").removeClass("hide")):(e(".discount-min-requirements").addClass("hide"),e(".discount-min-qty-items").addClass("hide"))})),e(".usage-limit").click((function(){e(this).is(":checked")?e(".enable_usage_limits").removeClass("hide"):e(".enable_usage_limits").addClass("hide")})),e(".active-dates").click((function(){e(this).is(":checked")?e(".unique-coupon-code-start-dates").removeClass("hide"):e(".unique-coupon-code-start-dates").addClass("hide")})),e(".enable-item-limit").click((function(){e(this).is(":checked")?e(".discount-total-usage-limit").removeClass("hide"):e(".discount-total-usage-limit").addClass("hide")})),e(".close-popup").click((function(){o.dialog("close")})),e(".discount-value").change((function(){parseInt(e(this).val())<1&&e(this).val(1)})),e(".upgrade-timer").click((function(o){A(),e(".countdown-timer-popup").removeClass("hide"),e(".popup-overlayout-cls").css("display","block")})),e(".upgrade-pro").click((function(o){o.preventDefault(),window.open(e(this).attr("url"),"_blank")})),e(".select-no-coupon-code").click((function(){e(".existing-coupon").addClass("hide"),e(".unique-coupon").addClass("hide"),e(".coupon-type").removeClass("active-type"),e(this).addClass("active-type"),e("input.coupon-type").val(4),e(".announcement-popup").removeClass("hide"),e('a[tab="#popup_design"]').trigger("click"),e(".cp").addClass("hide"),e(".an").removeClass("hide"),style=e(".coupon-widget-style").find(".input-field-radio:checked").val(),"style-4"==style&&"style-5"==style||(e(".announcement-headline").val("Check out our latest collection"),e(".couponapp-no-coupon-option h4").text("Check out our latest collection"),e("#input-field-radio-style-4").trigger("click"))})),e(document).on("keyup","#search-wp-coupon-codes-text",(function(){var o=e(this).val().toLowerCase();e(".tbl-coupons").find("tr").removeClass("hide"),""!=o&&e('.tbl-coupons tbody tr .coupon-text:not(:contains("'+o+'"))').closest("tr").addClass("hide"),-1==e(".coupon-text").text().indexOf(o)?(e(".no-coupon-found").show(),e(".coupon-details-table").hide()):(e(".no-coupon-found").hide(),e(".coupon-details-table").show())})),e(".widget-status").click((function(){status=0,e(this).is(":checked")&&(status=1),url=cx_data.url,widget_id=e(this).attr("widget-id"),e.ajax({url:url,data:{id:widget_id,status:status,action:"update_status",nonce:e('input[name="cx_nonce"]').val()},type:"post",dataType:"json",success:function(e){console.log(e)}})}));let m=e("#couponapp-widget-delete-confirm").dialog({resizable:!1,dialogClass:"fixPosition",modal:!0,draggable:!1,height:"auto",width:400,overflow:"auto",autoOpen:!1,buttons:[{text:__("Cancel","coupon-x"),class:"btn btn-cancel",click:function(){e(this).dialog("close")}},{text:__("Delete Widget","coupon-x"),class:"btn btn-red",click:function(){url=cx_data.url,widget_id=e("#dashboard_widget_id").val(),e("#loader").show(),e.ajax({url:url,data:{id:widget_id,action:"delete_widget",nonce:e('input[name="cx_nonce"]').val()},type:"post",dataType:"json",success:function(o){console.log(o),e("#loader").hide(),e('tr[data-widget="'+widget_id+'"').hide(),e("#wp_flash_message").removeClass("hide"),setTimeout((function(){e("#wp_flash_message").addClass("hide")}),6e3),location.reload()}}),e(this).dialog("close")}}]});function h(o){clr=o.toHexString(),e(".couponapp-email-option").css("background-color",clr),e(".cpn-cpy-style").is(":checked")&&e(".couponapp-email-code-option").css("background-color",clr),e(".cpy-style").is(":checked")&&e(".couponapp-no-coupon-option").css("background-color",clr)}function g(o){clr=o.toHexString(),e(".couponapp-email-option h4").css("color",clr),e(".cpn-cpy-style").is(":checked")&&e(".couponapp-email-code-option h4").css("color",clr),e(".cpy-style").is(":checked")&&e(".couponapp-no-coupon-option h4").css("color",clr)}function v(o){clr=o.toHexString(),e(".couponapp-email-option .coupon-code-text,.couponapp-email-option .form-wrap").css("background-color",clr),e(".cpn-cpy-style").is(":checked")&&(style="background-color:"+clr+"!important;color: "+e("#main_email_color").val()+"!important;",e(".couponapp-email-code-option .form-wrap, .couponapp-email-code-option .form-wrap p").attr("style",style))}function b(o){clr=o.toHexString(),e(".couponapp-email-option .coupon-code-text, .couponapp-email-option .customer-name-text").css("color",clr),e(".cpn-cpy-style").is(":checked")&&(style="background-color:"+e("#main_email_bgcolor").val()+"!important;color: "+clr+"!important;",e(".couponapp-email-code-option .form-wrap p").attr("style",style))}function _(o){clr=o.toHexString(),e(".couponapp-email-option .form-wrap").css("border-color",clr),e(".cpn-cpy-style").is(":checked")&&(style="border-color:"+clr,e(".couponapp-email-code-option .form-wrap").attr("style",style))}function f(o){clr=o.toHexString(),text_color=e("#main_btn_color").val(),style="background-color:"+clr+"!important;color: "+text_color+"!important;",e(".couponapp-email-option .coupon-button").attr("style",style),e(".cpn-cpy-style").is(":checked")&&e(".couponapp-email-code-option .coupon-button").attr("style",style)}function y(o){clr=o.toHexString(),bg_color=e("#main_btn_bgcolor").val(),style="background-color:"+bg_color+"!important;color: "+clr+"!important;",e(".couponapp-email-option .coupon-button").attr("style",style),e(".cpn-cpy-style").is(":checked")&&e(".couponapp-email-code-option .coupon-button").attr("style",style)}function x(o){clr=o.toHexString(),e(".couponapp-email-option .coupon-description").css("color",clr),e(".cpn-cpy-style").is(":checked")&&e(".couponapp-email-code-option .coupon-description").css("color",clr),e(".cpy-style").is(":checked")&&e(".couponapp-no-coupon-option p").css("color",clr)}function C(o,t){e("#"+t).closest(".custom-color-box").find(".custom-color-val").text(o.toHexString())}e(".ui-dialog-buttonset").find("button").removeClass("ui-button"),e(".delete-widget").click((function(t){t.preventDefault(),link=e(this).closest("tr");let n=e(this).attr("widget-id");e("#dashboard_widget_id").val(n),m.dialog("open"),o=m})),e(window).scroll((function(){})),e(window).resize((function(){})),e(".keep-editing").click((function(){keep_editing=1,validation_popup.dialog("close"),e('a[tab="#triggers_targetting"]').trigger("click")})),e(".select-coupon-btn").click((function(){validation_popup.dialog("close"),e('a[tab="#choose_coupon"]').trigger("click")})),e(".close_flash_popup").click((function(){e("#wp_flash_message").addClass("hide")})),e(".btn-previewbtn").click((function(o){o.preventDefault(),e(this).hide(),e(".tab-preview").addClass("mobile-preview"),e(".mobile-preview-bg").show(),e(".tab-preview").show(),e(".coupon-preview-close").removeClass("hide")})),e(".coupon-preview-close").click((function(o){o.preventDefault(),e(".btn-previewbtn").show(),e(".tab-preview").removeClass("mobile-preview"),e(".mobile-preview-bg").hide(),e(".tab-preview").hide(),e(".coupon-preview-close").addClass("hide")})),e(".btn-popup-previewbtn").click((function(o){o.preventDefault(),e(this).hide(),e(".popup-preview").addClass("mobile-preview"),e(".mobile-preview-bg").show(),e(".popup-preview").show(),e(".popup-preview-close").removeClass("hide")})),e(".popup-preview-close").click((function(o){o.preventDefault(),e(".btn-popup-previewbtn").show(),e(".popup-preview").removeClass("mobile-preview"),e(".mobile-preview-bg").hide(),e(".popup-preview").hide(),e(this).addClass("hide")})),e("#tab_color").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),e(".tab-icon").css("background-color",clr),e(".icon-img").css("background-color",clr),C(o,"tab_color")},change:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),e(".tab-icon").css("background-color",clr),e(".icon-img").css("background-color",clr),C(o,"tab_color")}}),e("#icon_color").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),e(".preview-box").find(".tab-icon-svg").css("fill",clr),C(o,"icon_color")},change:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),e(".preview-box").find(".tab-icon-svg").css("fill",clr),C(o,"icon_color")}}),e("#no_color").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),e(".preview-box").find(".coupon-pending-message").css("color",clr),C(o,"no_color")},change:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),e(".preview-box").find(".coupon-pending-message").css("color",clr),C(o,"no_color")}}),e("#no_bgcolor").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),e(".preview-box").find(".coupon-pending-message").css("background-color",clr),C(o,"no_bgcolor")},change:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),e(".preview-box").find(".coupon-pending-message").css("background-color",clr),C(o,"no_bgcolor")}}),e("#action_color").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),e(".preview-box").find(".tab-text").css("color",clr),C(o,"action_color")},change:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),e(".preview-box").find(".tab-text").css("color",clr),C(o,"action_color")}}),e("#action_bgcolor").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toString()),clr=o.toHexString(),e(".preview-box").find(".tab-text").css("background-color",clr),e(".custom-icon-bg").remove(),console.log(e(".custom-pos:checked").val()),"left"==e(".custom-pos:checked").val()||"custom"==e(".custom-pos:checked").val()&&"left"==e(".custom_position:checked").val()?e("body").append('<style class="custom-icon-bg">.tab-text:after {border-right-color:'+clr+" !important;border-left-color:transparent !important}</style>"):("right"==e(".custom-pos:checked").val()||"custom"==e(".custom-pos:checked").val()&&"right"==e(".custom_position:checked").val())&&e("body").append('<style class="custom-icon-bg">.tab-text:after {border-left-color:'+clr+" !important;border-right-color:transparent !important}</style>"),C(o,"action_bgcolor")},change:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),e(".preview-box").find(".tab-text").css("background-color",clr),e(".custom-icon-bg").remove(),console.log(e(".custom-pos:checked").val()),"left"==e(".custom-pos:checked").val()?e("body").append('<style class="custom-icon-bg">.tab-text:after {border-right-color:'+clr+" !important;border-left-color:transparent !important}</style>"):"right"==e(".custom-pos:checked").val()&&e("body").append('<style class="custom-icon-bg">.tab-text:after {border-left-color:'+clr+" !important;border-right-color:transparent !important}</style>"),C(o,"action_bgcolor")}}),e("#main_bgcolor").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toHexString()),h(o),C(o,"main_bgcolor")},change:function(o){e(this).val(o.toHexString()),h(o),C(o,"main_bgcolor")}}),e("#main_hcolor").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toHexString()),g(o)},change:function(o){e(this).val(o.toHexString()),g(o)}}),e("#main_email_bgcolor").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toHexString()),v(o),C(o,"main_email_bgcolor")},change:function(o){e(this).val(o.toHexString()),v(o),C(o,"main_email_bgcolor")}}),e("#main_email_color").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toHexString()),b(o),C(o,"main_email_color")},change:function(o){e(this).val(o.toHexString()),b(o),C(o,"main_email_color")}}),e("#main_email_brdcolor").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toHexString()),_(o),C(o,"main_email_brdcolor")},change:function(o){e(this).val(o.toHexString()),_(o),C(o,"main_email_brdcolor")}}),e("#main_btn_bgcolor").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toHexString()),f(o),C(o,"main_btn_bgcolor")},change:function(o){e(this).val(o.toHexString()),f(o),C(o,"main_btn_bgcolor")}}),e("#main_btn_color").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toHexString()),y(o),C(o,"main_btn_color")},change:function(o){e(this).val(o.toHexString()),y(o),C(o,"main_btn_color")}}),e("#main_desc_color").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toHexString()),x(o)},change:function(o){e(this).val(o.toHexString()),x(o)}}),e("#coupon_bgcolor").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),e(".couponapp-code-option").css("background-color",clr),e(".couponapp-link-option").css("background-color",clr),C(o,"coupon_bgcolor")},change:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),e(".couponapp-code-option").css("background-color",clr),e(".couponapp-link-option").css("background-color",clr),C(o,"coupon_bgcolor")}}),e("#coupon_headline_clr").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),e(".couponapp-code-option h4").css("color",clr),e(".couponapp-link-option h4").css("color",clr)},change:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),e(".couponapp-code-option h4").css("color",clr),e(".couponapp-link-option h4").css("color",clr)}}),e("#coupon_pbgcolor").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),style="background-color:"+clr+" !important;color: "+e("#coupon_color").val()+"!important;border-color: "+e("#coupon_brdcolor").val()+"!important",e(".couponapp-email-code-option .form-wrap p.coupon-code-text, .couponapp-email-code-option .form-wrap").attr("style",style),C(o,"coupon_pbgcolor")},change:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),style="background-color:"+clr+" !important;color: "+e("#coupon_color").val()+"!important;border-color: "+e("#coupon_brdcolor").val()+"!important",e(".couponapp-email-code-option .form-wrap p.coupon-code-text, .couponapp-email-code-option .form-wrap").attr("style",style),C(o,"coupon_pbgcolor")},hide:function(o){clr=o.toHexString(),style="background-color:"+clr+" !important;color: "+e("#coupon_color").val()+"!important;border-color: "+e("#coupon_brdcolor").val()+"!important",e(".couponapp-email-code-option .form-wrap p.coupon-code-text, .couponapp-email-code-option .form-wrap").attr("style",style),C(o,"coupon_pbgcolor")}}),e("#coupon_color").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),e(".couponapp-code-option .coupon-code-text").css("color",clr),C(o,"coupon_color")},change:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),e(".couponapp-code-option .coupon-code-text").css("color",clr),C(o,"coupon_color")}}),e("#coupon_brdcolor").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),style="border-color:"+clr+" !important;background-color:"+e("#coupon_pbgcolor").val()+" !important;color: "+e("#coupon_color").val()+"!important;",e(".couponapp-email-code-option .form-wrap").attr("style",style),e("#vector-nonfloat-bar path").attr("fill",clr),C(o,"coupon_brdcolor")},change:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),style="border-color:"+clr+" !important;background-color:"+e("#coupon_pbgcolor").val()+" !important;color: "+e("#coupon_color").val()+"!important;",e(".couponapp-email-code-option .form-wrap").attr("style",style),e("#vector-nonfloat-bar path").attr("fill",clr),C(o,"coupon_brdcolor")},hide:function(o){clr=o.toHexString(),style="border-color:"+clr+" !important;background-color:"+e("#coupon_pbgcolor").val()+" !important;color: "+e("#coupon_color").val()+"!important;",e(".couponapp-email-code-option .form-wrap").attr("style",style),e("#vector-nonfloat-bar path").attr("fill",clr),C(o,"coupon_brdcolor")}}),e("#cls_btn_color").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),e(".close-design-popup").css("color",clr),C(o,"cls_btn_color")},change:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),e(".close-design-popup").css("color",clr),C(o,"cls_btn_color")}}),e("#cpy_btn_bgcolor").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),text_color=e("#cpy_btn_color").val(),style="background-color:"+clr+"!important;color: "+text_color+"!important;",e(".couponapp-code-option .coupon-button").attr("style",style),e(".couponapp-link-option .coupon-button").attr("style",style),C(o,"cpy_btn_bgcolor")},change:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),text_color=e("#cpy_btn_color").val(),style="background-color:"+clr+"!important;color: "+text_color+"!important;",e(".couponapp-code-option .coupon-button").attr("style",style),e(".couponapp-link-option .coupon-button").attr("style",style),C(o,"cpy_btn_bgcolor")}}),e("#cpy_btn_color").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),bg_color=e("#cpy_btn_bgcolor").val(),style="background-color:"+bg_color+"!important;color: "+clr+"!important;",e(".couponapp-code-option .coupon-button").attr("style",style),e(".couponapp-link-option .coupon-button").attr("style",style),C(o,"cpy_btn_color")},change:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),bg_color=e("#cpy_btn_bgcolor").val(),style="background-color:"+bg_color+"!important;color: "+clr+"!important;",e(".couponapp-code-option .coupon-button").attr("style",style),e(".couponapp-link-option .coupon-button").attr("style",style),C(o,"cpy_btn_color")}}),e("#coupon_desc_color").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),e(".couponapp-code-option .coupon-description").css("color",clr),e(".couponapp-link-option .coupon-description").css("color",clr)},change:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),e(".couponapp-code-option .coupon-description").css("color",clr),e(".couponapp-link-option .coupon-description").css("color",clr)}}),e("#announcement_headline_clr").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),e(".couponapp-no-coupon-option h4").css("color",clr)},change:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),e(".couponapp-no-coupon-option h4").css("color",clr)}}),e("#announcement_desc_color").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),e(".couponapp-no-coupon-option p").css("color",clr)},change:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),e(".couponapp-no-coupon-option p").css("color",clr)}}),e("#announcement_bgcolor").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),e(".couponapp-no-coupon-option").css("background-color",clr),C(o,"announcement_bgcolor")},change:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),e(".couponapp-no-coupon-option").css("background-color",clr),C(o,"announcement_bgcolor")}}),e("#announcement_btn_bgcolor").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),text_color=e("#announcement_btn_color").val(),style="background-color:"+clr+"!important;color: "+text_color+"!important;",e(".announcement-button").attr("style",style),C(o,"announcement_btn_bgcolor")},change:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),text_color=e("#announcement_btn_color").val(),style="background-color:"+clr+"!important;color: "+text_color+"!important;",e(".announcement-button").attr("style",style),C(o,"announcement_btn_bgcolor")}}),e("#announcement_btn_color").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0,move:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),bg_color=e("#announcement_btn_bgcolor").val(),style="background-color:"+bg_color+"!important;color: "+clr+"!important;",e(".announcement-button").attr("style",style),C(o,"announcement_btn_color")},change:function(o){e(this).val(o.toHexString()),clr=o.toHexString(),bg_color=e("#announcement_btn_bgcolor").val(),style="background-color:"+bg_color+"!important;color: "+clr+"!important;",e(".announcement-button").attr("style",style),C(o,"announcement_btn_color")}}),e("#error_color").spectrum({preferredFormat:"hex",showInput:!0,showAlpha:!0}),e(".couponapp-inner-text").click((function(){e(".select-wp-coupon-code").trigger("click")})),e(".preview-box .tab-icon").click((function(){e(".preview-box .tab-tooltip").addClass("tooltip-show"),setTimeout((function(){e(".preview-box .tab-tooltip").removeClass("tooltip-show")}),3e3)})),e("body").on("click",".ui-widget-overlay",(function(){console.log("called"),o.dialog("close")})),e("body").on("click",".popup-overlayout-cls",(function(){e(".first-widget-popup").addClass("hide"),e(".popup-overlayout-cls").css("display","none"),e(".countdown-timer-popup").addClass("hide"),e(".couponx-send-mail-updrade").addClass("hide"),e(".couponx-two-step-coupon").addClass("hide")})),e("#cx-help-form").submit((function(){return e(".cx-help-button").attr("disabled",!0),e(".cx-help-button").text("Sending Request..."),formData=e(this).serialize(),e.ajax({url:cx_data.url,data:formData,type:"post",success:function(o){if(e("#cx-help-form").find(".error-message").remove(),e("#cx-help-form").find(".input-error").removeClass("input-error"),responseArray=e.parseJSON(o),1==responseArray.error)for(e(".cx-help-button").attr("disabled",!1),e(".cx-help-button").text("<?php esc_html_e( 'Chat', CHT_OPT ); ?>"),i=0;i<responseArray.errors.length;i++)e("#"+responseArray.errors[i].key).addClass("input-error"),e("#"+responseArray.errors[i].key).after('<span class="error-message">'+responseArray.errors[i].message+"</span>");else 1==responseArray.status?(e(".cx-help-button").text("Done!"),setTimeout((function(){e(".cx-help-header").remove(),e(".cx-help-content").html("<p class='success-p'>Your message is sent successfully.</p>")}),1e3)):0==responseArray.status&&e(".folder-help-content").html("<p class='error-p'>There is some problem in sending request. Please send us mail on <a href='mailto:contact@premio.io'>contact@premio.io</a>")}}),!1})),e(".cx-help-tooltip").click((function(o){o.stopPropagation(),e(".cx-help-form").toggleClass("active")})),e(".cx-help-form").click((function(e){e.stopPropagation()})),e("body").click((function(){e(".cx-help-form").removeClass("active")})),e("input.cart-rule").click((function(){e(this).addClass("hide"),e("div.cart-rule").removeClass("hide"),e(".enable-cart-rule").val(1)})),e(".remove-cart-targeting").click((function(){e("div.cart-rule").addClass("hide"),e("input.cart-rule").removeClass("hide"),e(".enable-cart-rule").val(0)})),e("input.order-rule").click((function(){e(this).addClass("hide"),e("div.order-rule").removeClass("hide"),e(".enable-order-rule").val(1)})),e(".remove-order-targeting").click((function(){e("div.order-rule").addClass("hide"),e("input.order-rule").removeClass("hide"),e(".enable-order-rule").val(0)})),e("input.page-rule").click((function(){e("div.page-rule").removeClass("hide")})),e(document).on("click",".remove-page-targeting",(function(){e("div.page-rule").addClass("hide")})),e(".popup-type:not(first-child)").mouseover((function(){e(this).find(".popup-upgrade").removeClass("hide")})).mouseleave((function(){e(this).find(".popup-upgrade").addClass("hide")})),e(".select-layout").click((function(){layout_validation.dialog("close"),e('a[tab="#popup_design"]').trigger("click")})),e(".popup-type:first-child").mouseover((function(){e(this).find(".btn-selected-style").hasClass("hide")&&e(this).find(".btn-select-layout").removeClass("hide")})).mouseleave((function(){e(this).find(".btn-select-layout").addClass("hide")})),e(".enable-btn").click((function(){e(this).is(":checked")?(e(".btn-div").removeClass("hide"),e(".announcement-button").parent("div").removeClass("hide")):(e(".announcement-button").parent("div").addClass("hide"),e(".btn-div").addClass("hide"))})),e(".cpy-style").click((function(){if(e(this).is(":checked")){e(".an-clr").addClass("hide"),e(".btn-div").addClass("hide"),e(".couponapp-no-coupon-option").css("background-color",e("#main_bgcolor").val()),e(".couponapp-no-coupon-option h4").css("color",e("#main_hcolor").val()),e(".couponapp-no-coupon-option p").css("color",e("#main_desc_color").val()),text_color=e("#main_btn_color").val(),clr=e("#main_btn_bgcolor").val(),o="background-color:"+clr+"!important;color: "+text_color+"!important;",e(".couponapp-no-coupon-option .announcement-button").attr("style",o),e("#announcement_headline_clr").next(".sp-replacer").addClass("hide"),e("#announcement_desc_color").next(".sp-replacer").addClass("hide");var o=e("input[name='cx_settings[popup][style]']:checked").val();if("style-5"==o){e(".content-bg-img-preview.announcement").addClass("hide"),e(".content-bg-elements-preview.announcement").addClass("hide");var t=e(".tab-box-content.type-announcement").attr("data-elements"),n=e("input[name='cx_settings[main][element_type]']:checked").val();e("input[name='cx_settings[main][add_elements]']").is(":checked")?(e(".tab-box-content.type-announcement").removeClass("element-"+t),e(".tab-box-content.type-announcement").addClass("element-"+n).attr("data-elements",n)):e(".tab-box-content.type-announcement").removeClass("element-"+t)}else{e(".content-bg-img-preview.announcement").removeClass("hide"),e(".content-bg-elements-preview.announcement").removeClass("hide");t=e(".tab-box-content.type-announcement").attr("data-elements"),n=e("input[name='cx_settings[announcement][element_type]']:checked").val();e("input[name='cx_settings[announcement][add_elements]']").is(":checked")?(e(".tab-box-content.type-announcement").removeClass("element-"+t),e(".tab-box-content.type-announcement").addClass("element-"+n).attr("data-elements",n)):e(".tab-box-content.type-announcement").removeClass("element-"+t)}var c=e("input[name='cx_settings[main][add_image]']:checked").val(),a=e("input[name='cx_settings[main][image_url]']").val(),i=e("input[name='cx_settings[main][img_position]']:checked").val();1==c&&""!=a?(e(".type-announcement .img-preview").remove(),e(".type-announcement").prepend("<div class='img-preview'><img src='"+a+"'></div>"),e(".tab-box-content.type-announcement").addClass("has-image"),e(".tab-box-content.type-announcement").removeClass("top left right cover").addClass(i),"cover"==i?e(".tab-box-content.type-announcement.has-image.cover .content-preview").css({"background-image":"url("+a+")"}):e(".tab-box-content.type-announcement.has-image .content-preview").css({"background-image":"url()"})):(e(".type-announcement .img-preview").remove(),e(".tab-box-content.type-announcement").removeClass("left top cover right"),e(".tab-box-content.type-announcement").addClass("has-image"),e(".tab-box-content.type-announcement.has-image .content-preview").css({"background-image":"url()"}))}else{console.log("here"),e(".an-clr").removeClass("hide"),e(".enable-btn").is(":checked")&&e(".btn-div").removeClass("hide"),e(".couponapp-no-coupon-option").css("background-color",e("#announcement_bgcolor").val()),e(".couponapp-no-coupon-option h4").css("color",e("#announcement_headline_clr").val()),e(".couponapp-no-coupon-option p").css("color",e("#announcement_desc_color").val()),text_color=e("#announcement_btn_color").val(),clr=e("#announcement_btn_bgcolor").val(),o="background-color:"+clr+"!important;color: "+text_color+"!important;",e(".couponapp-no-coupon-option .announcement-button").attr("style",o),e("#announcement_headline_clr").next(".sp-replacer").removeClass("hide"),e("#announcement_desc_color").next(".sp-replacer").removeClass("hide"),e(".content-bg-img-preview.announcement").removeClass("hide");c=e("input[name='cx_settings[announcement][add_image]']:checked").val(),a=e("input[name='cx_settings[announcement][image_url]']").val(),i=e("input[name='cx_settings[announcement][img_position]']:checked").val();1==c&&""!=a?(e(".type-announcement .img-preview").remove(),e(".type-announcement").prepend("<div class='img-preview'><img src='"+a+"'></div>"),e(".tab-box-content.type-announcement").addClass("has-image"),e(".tab-box-content.type-announcement").removeClass("top left right cover").addClass(i),"cover"==i?e(".tab-box-content.type-announcement.has-image.cover .content-preview").css({"background-image":"url("+a+")"}):e(".tab-box-content.type-announcement.has-image .content-preview").css({"background-image":"url()"})):(e(".type-announcement .img-preview").remove(),e(".tab-box-content.type-announcement").removeClass("left top cover right"),e(".tab-box-content.type-announcement").addClass("has-image"),e(".tab-box-content.type-announcement.has-image .content-preview").css({"background-image":"url()"})),e(".content-bg-elements-preview.announcement").removeClass("hide");t=e(".tab-box-content.type-announcement").attr("data-elements"),n=e("input[name='cx_settings[announcement][element_type]']:checked").val();e("input[name='cx_settings[announcement][add_elements]']").is(":checked")?(e(".tab-box-content.type-announcement").removeClass("element-"+t),e(".tab-box-content.type-announcement").addClass("element-"+n).attr("data-elements",n)):e(".tab-box-content.type-announcement").removeClass("element-"+t)}})),e(".cpn-cpy-style").click((function(){if(e(this).is(":checked")){e(".cp-clr").addClass("hide"),e(".couponapp-email-code-option").css("background-color",e("#main_bgcolor").val()),e(".couponapp-email-code-option h4").css("color",e("#main_hcolor").val()),console.log(e("#main_desc_color").val()),e(".couponapp-email-code-option .coupon-description").css("color",e("#main_desc_color").val()),text_color=e("#main_btn_color").val(),clr=e("#main_btn_bgcolor").val(),o="background-color:"+clr+"!important;color: "+text_color+"!important;",e(".couponapp-email-code-option .coupon-button").attr("style",o),o="background-color:"+e("#main_email_bgcolor").val()+"!important;color: "+e("#main_email_color").val()+"!important;",e(".couponapp-email-code-option .form-wrap p.coupon-code-text").attr("style",o),o="border-color:"+e("#main_email_brdcolor").val()+" !important;background-color:"+e("#main_email_bgcolor").val()+" !important;",e(".couponapp-email-code-option .form-wrap").attr("style",o),e("#vector-nonfloat-bar path").attr("fill",e("#main_email_brdcolor").val()),e("#coupon_headline_clr").next(".sp-replacer").addClass("hide"),e("#coupon_desc_color").next(".sp-replacer").addClass("hide");var o=e("input[name='cx_settings[popup][style]']:checked").val();"style-2"==o?(e(".content-bg-img-preview.coupon").addClass("hide"),e(".content-bg-elements-preview.coupon").addClass("hide")):(e(".content-bg-img-preview.coupon").removeClass("hide"),e(".content-bg-elements-preview.coupon").removeClass("hide"));var t=e("input[name='cx_settings[main][add_image]']:checked").val(),n=e("input[name='cx_settings[main][image_url]']").val(),c=e("input[name='cx_settings[main][img_position]']:checked").val();1==t&&""!=n?(e(".type-coupon .img-preview").remove(),e(".type-coupon").prepend("<div class='img-preview'><img src='"+n+"'></div>"),e(".tab-box-content.type-coupon").addClass("has-image"),e(".tab-box-content.type-coupon").removeClass("left top cover right").addClass(c),"cover"==c?e(".tab-box-content.type-coupon.has-image.cover .content-preview").css({"background-image":"url("+n+")"}):e(".tab-box-content.type-coupon.has-image .content-preview").css({"background-image":"url()"})):(e(".type-coupon .img-preview").remove(),e(".tab-box-content.type-coupon").removeClass("left top cover right"),e(".tab-box-content.type-coupon").addClass("has-image"),e(".tab-box-content.type-coupon.has-image .content-preview").css({"background-image":"url()"}));var a=e(".tab-box-content.type-coupon").attr("data-elements"),i=e("input[name='cx_settings[main][element_type]']:checked").val();e("input[name='cx_settings[main][add_elements]']").is(":checked")?(e(".tab-box-content.type-coupon").removeClass("element-"+a),e(".tab-box-content.type-coupon").addClass("element-"+i).attr("data-elements",i)):e(".tab-box-content.type-coupon").removeClass("element-"+a)}else{e(".cp-clr").removeClass("hide"),e(".couponapp-email-code-option").css("background-color",e("#coupon_bgcolor").val()),e(".couponapp-email-code-option h4").css("color",e("#coupon_headline_clr").val()),e(".couponapp-email-code-option .coupon-description").css("color",e("#coupon_desc_color").val()),text_color=e("#cpy_btn_color").val(),clr=e("#cpy_btn_bgcolor").val(),o="background-color:"+clr+"!important;color: "+text_color+"!important;",e(".couponapp-email-code-option .coupon-button").attr("style",o),o="background-color:"+e("#coupon_pbgcolor").val()+"!important;color: "+e("#coupon_color").val()+"!important;",e(".couponapp-email-code-option .form-wrap p.coupon-code-text").attr("style",o),o="background-color:"+e("#coupon_pbgcolor").val()+"!important;border-color:"+e("#coupon_brdcolor").val()+" !important",e(".couponapp-email-code-option .form-wrap").attr("style",o),e("#coupon_headline_clr").next(".sp-replacer").removeClass("hide"),e("#coupon_desc_color").next(".sp-replacer").removeClass("hide"),e(".content-bg-img-preview.coupon").removeClass("hide");t=e("input[name='cx_settings[coupon][add_image]']:checked").val(),n=e("input[name='cx_settings[coupon][image_url]']").val(),c=e("input[name='cx_settings[coupon][img_position]']:checked").val();1==t&&""!=n?(e(".type-coupon .img-preview").remove(),e(".type-coupon").prepend("<div class='img-preview'><img src='"+n+"'></div>"),e(".tab-box-content.type-coupon").addClass("has-image"),e(".tab-box-content.type-coupon").removeClass("top left right cover").addClass(c),"cover"==c?e(".tab-box-content.type-coupon.has-image.cover .content-preview").css({"background-image":"url("+n+")"}):e(".tab-box-content.type-coupon.has-image .content-preview").css({"background-image":"url()"})):(e(".type-coupon .img-preview").remove(),e(".tab-box-content.type-coupon").removeClass("left top cover right"),e(".tab-box-content.type-coupon").addClass("has-image"),e(".tab-box-content.type-coupon.has-image .content-preview").css({"background-image":"url()"})),e(".content-bg-elements-preview.coupon").removeClass("hide");a=e(".tab-box-content.type-coupon").attr("data-elements"),i=e("input[name='cx_settings[coupon][element_type]']:checked").val();e("input[name='cx_settings[coupon][add_elements]']").is(":checked")?(e(".tab-box-content.type-coupon").removeClass("element-"+a),e(".tab-box-content.type-coupon").addClass("element-"+i).attr("data-elements",i)):e(".tab-box-content.type-coupon").removeClass("element-"+a),e("#vector-nonfloat-bar path").attr("fill",e("#coupon_brdcolor").val())}})),e(".btn-action").change((function(){"1"==e(this).val()?e(".announcement-redirect").addClass("hide"):e(".announcement-redirect").removeClass("hide")})),e(".slide-in-popup").click((function(){if(""==e("input.coupon-type").val())return validation_popup.dialog("open"),void(o=validation_popup);e(".btn-selected-style").removeClass("hide"),e(".popup-wrapper").removeClass("hide"),e(".mobile-preview-btn").removeClass("hide"),e(".popup-preview").removeClass("hide"),e(this).find(".btn-select-layout").addClass("hide"),e("#popup_type").val("Slide-in Pop Up"),e(".slide-in-position").removeClass("hide"),e(".popup-font-family").removeClass("hide"),e(".popup-custom-pos:checked").trigger("click")})),e(".lightbox-popup, .floating-bar").click((function(){window.open(e(this).find(".popup-upgrade").find("a").attr("href"),"_blank")})),e("input.os-rule").click((function(){e(this).addClass("hide"),e("div.os-rule").removeClass("hide")})),e(".remove-os-targeting").click((function(){e("div.os-rule").addClass("hide"),e("input.os-rule").removeClass("hide")})),e("input.traffic-rule").click((function(){e(this).addClass("hide"),e(".traffic-rule-main").removeClass("hide"),e(".remove-traffic-rule").removeClass("hide")})),e(".remove-traffic-rule").click((function(){e(".traffic-rule-main").addClass("hide"),e(this).addClass("hide"),e("input.traffic-rule").removeClass("hide")})),e("input.date-rule").click((function(){e(this).addClass("hide"),e("div.date-rule").removeClass("hide")})),e(".remove-date-targeting").click((function(){e("div.date-rule").addClass("hide"),e("input.date-rule").removeClass("hide")})),e("input.day-rule").click((function(){e("div.day-rule").removeClass("hide"),e("input.day-rule").addClass("hide")})),e(document).on("click",".remove-day-targeting",(function(){e("input.day-rule").removeClass("hide"),e("div.day-rule").addClass("hide")})),e(".email-client").find("label").click((function(){href=e(this).attr("url"),window.open(href,"_blank")}));let w,k,S,H=0,A=function(o=""){w=e(".mySlides_couponcode"),k=e(".dot_couponcode"),e(".mySlides_couponcode").css("display","none"),""!=o?H=o:H++,H>w.length&&(H=1),e(".dot_couponcode").removeClass("active-slid"),e(".mySlides_couponcode:nth-child("+H+")").css("display","block"),e(".dot_couponcode:nth-child("+(o=H+1)+")").addClass("active-slid"),S=setTimeout(A,5e3)};e(".next").click((function(){clearTimeout(S),H+=1,H>w.length?H=1:H<1&&(H=w.length),A(H)})),e(".prev").click((function(){clearTimeout(S),1==H?H=w.length:H--,A(H)})),e(".dot_couponcode").click((function(){clearTimeout(S),H=e(this).data("pos"),A(H)})),e(".close-timer-popup").click((function(){e(".countdown-timer-popup").addClass("hide"),e(".popup-overlayout-cls").css("display","none")})),e(document).on("click",".send-mail-popup",(function(){e(".couponx-send-mail-updrade").removeClass("hide"),e(".couponx-send-mail-updrade + .popup-overlayout-cls").show()})),e(document).on("click",".close-send-mail-popup",(function(){e(".couponx-send-mail-updrade").addClass("hide"),e(".couponx-send-mail-updrade + .popup-overlayout-cls").hide()})),e(document).on("change",".show-coupon-type",(function(){2==e(this).val()?(e(".couponx-two-step-coupon").removeClass("hide"),e(".couponx-two-step-coupon + .popup-overlayout-cls").show(),e(".show-coupon-style-1").find(".label-tooltip").attr("title","Selecting the first option shows a coupon claim screen before showing the actual coupon (helps to reduce creating unnecessary coupons), and the second option shows the coupon rightaway.")):(e(".couponx-two-step-coupon").addClass("hide"),e(".couponx-two-step-coupon + .popup-overlayout-cls").hide(),e(".show-coupon-style-1").find(".label-tooltip").attr("title","Selecting the first option shows the coupon rightaway, and the second option shows a coupon claim screen before showing the actual coupon (helps to reduce creating unnecessary coupons)."))})),e(document).on("click",".close-two-step-coupon-popup",(function(){e(".couponx-two-step-coupon").addClass("hide"),e(".couponx-two-step-coupon + .popup-overlayout-cls").hide()})),e(document).on("click",".collect-name",(function(){e(this).is(":checked")?(e(".name-placeholder").removeClass("hide"),e(".required-name-box").removeClass("hide"),e(".required-name").is(":checked")?e(".validation-text").removeClass("hide"):e(".validation-text").addClass("hide"),e(".field-color").text("Fields Color"),e(".field-text-color").text("Fields Text Color"),e(".field-border-color").text("Fields Border Color"),e(".customer-name-box").removeClass("hide")):(e(".name-placeholder").addClass("hide"),e(".required-name-box").addClass("hide"),e(".validation-text").addClass("hide"),e(".field-color").text("Email Field Color"),e(".field-text-color").text("Text Color(Email)"),e(".field-border-color").text("Email Border Color"),e(".customer-name-box").addClass("hide"))})),e(document).on("click",".required-name",(function(){e(this).is(":checked")?e(".validation-text").removeClass("hide"):e(".validation-text").addClass("hide")})),e(document).on("keyup",".customer-name",(function(){e(".customer-name-text").text(e(this).val())})),e(".customer-name").trigger("keyup")}));