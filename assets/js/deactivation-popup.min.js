!function(e){e(function(){var a="coupon-x-discount-pop-up";function t(){e(".cx-popup-overlay").removeClass("cx-active"),e("#cx-deactivate-form").trigger("reset"),e(".cx-popup-allow-deactivate").attr("disabled","disabled"),e(".cx-reason-input").hide(),e("body").removeClass("cx-hidden"),e(".message.error-message").hide()}e(document).on("click",'tr[data-slug="'+a+'"] .deactivate',function(a){a.preventDefault(),e(".cx-popup-overlay").addClass("cx-active"),e("body").addClass("cx-hidden")}),e(document).on("click",".cx-popup-button-close",function(){t()}),e(document).on("click",".cx-serveypanel,tr[data-slug='"+a+"'] .deactivate",function(e){e.stopPropagation()}),e(document).click(function(){t()}),e(".cx-reason label").on("click",function(){e(".cx-hidden-input").hide(),jQuery(".cx-error-message").remove(),e(this).find('input[type="radio"]').is(":checked")&&e(this).closest("li").find(".cx-hidden-input").show()}),e(document).on("keyup","#cx-deactivation-comment",function(){""==e.trim(e(this).val())?e(".cx-popup-allow-deactivate").attr("disabled",!0):e(".cx-popup-allow-deactivate").attr("disabled",!1)}),e('input[type="radio"][name="cx-selected-reason"]').on("click",function(a){e(".cx-popup-allow-deactivate").removeAttr("disabled")}),e(document).on("submit","#cx-deactivate-form",function(t){if(t.preventDefault(),_reason="",""==jQuery.trim(jQuery("#cx-deactivation-comment").val()))return jQuery("#alt_plugin").after("<span class='cx-error-message'>Please provide your feedback</span>"),!1;_reason=jQuery.trim(jQuery("#cx-deactivation-comment").val()),jQuery('[name="cx-selected-reason"]:checked').val();var c=jQuery.trim(jQuery("#cx-deactivation-email_id").val());e.ajax({url:ajaxurl,type:"POST",data:{action:"coupon_x_plugin_deactivate",reason:_reason,email_id:c,nonce:cx_data.nonce},beforeSend:function(){e(".cx-spinner").show(),e(".cx-popup-allow-deactivate").attr("disabled","disabled")}}).done(function(){e(".cx-spinner").hide(),e(".cx-popup-allow-deactivate").removeAttr("disabled"),window.location.href=e("tr[data-slug='"+a+"'] .deactivate a").attr("href")})}),e(".cx-popup-skip-feedback").on("click",function(t){window.location.href=e("tr[data-slug='"+a+"'] .deactivate a").attr("href")})})}(jQuery);